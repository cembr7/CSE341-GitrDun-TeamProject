<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="form-container">
        <div class="dashboard-header">
            <h2>Welcome to GitrDun</h2>
            <button id="logout-btn">Logout</button>
        </div>
        <div class="button-container">
            <button id="createList" onclick="location.href='create-list.html'">Create New List</button>
            <button id="createTask" onclick="location.href='create-task.html'">Create New Task</button>
        </div>
        <h3>Lists</h3>
        <div id="list"></div>
        <div id="emptyLists" style="display:none">No lists yet. Click "Create New List" to get started.</div>
    </div>
    <footer>
        <button id="api" onclick="location.href='/api-docs'">Api Docs</button>
    </footer>
    <script src="app.js"></script>
</body>
</html>

<script>
const params = new URLSearchParams(window.location.search);
const status = params.get("status");

async function markDone(id) {
  await fetch(`/api/tasks/${id}`, {
    method: "PATCH",
    headers: { "Content-Type": "application/json" },
    credentials: "include",
    body: JSON.stringify({ status: "done" })
  });
  location.reload();
}
</script>
